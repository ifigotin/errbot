
    <!doctype html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>errbot package &mdash; Err 3.2.3 documentation</title>
    
    <link rel="stylesheet" href="_static/err.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Err 3.2.3 documentation" href="index.html" />
    <link rel="next" title="errbot.backends package" href="errbot.backends.html" />
    <link rel="prev" title="Contributing" href="contributing.html" />
    <script type="text/javascript">
        // GitHub pages offers no way to redirect to a canonical location, so we
        // have to make do with hacky javascript redirection :(
        if (document.location.protocol != "file:" && document.location.host != "errbot.io") {
            var path = document.location.pathname.replace('/err/', '/');
            document.location = "http://errbot.io" + path;
        }
    </script>
    <link rel="icon" type="image/png" href="_static/err.png"/>
    <link rel="apple-touch-icon" href="_static/err.png"/>
    <link rel="stylesheet" href="_static/fancybox/jquery.fancybox.css" type="text/css"
          media="screen"/>
    <script type="text/javascript" src="_static/fancybox/jquery.fancybox.pack.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9"/>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-32534172-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

        // Gitter button
        ((window.gitter = {}).chat = {}).options = {
             room: 'errbotio/errbot'
        };
   </script>
   <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

  </head>
  <body role="document">
    
    

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="errbot.backends.html" title="errbot.backends package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Err 3.2.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
      

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="errbot-package">
<h1>errbot package<a class="headerlink" href="#errbot-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="errbot.backends.html">errbot.backends package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="errbot.backends.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="errbot.backends.base.html">errbot.backends.base module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.backends.hipchat.html">errbot.backends.hipchat module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.backends.irc.html">errbot.backends.irc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.backends.null.html">errbot.backends.null module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.backends.slack.html">errbot.backends.slack module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.backends.telegram.html">errbot.backends.telegram module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.backends.test.html">errbot.backends.test module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.backends.text.html">errbot.backends.text module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.backends.xmpp.html">errbot.backends.xmpp module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="errbot.backends.html#module-errbot.backends">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="errbot.bundled.html">errbot.bundled package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="errbot.bundled.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="errbot.bundled.exrex.html">errbot.bundled.exrex module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.bundled.rocket.html">errbot.bundled.rocket module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.bundled.threadpool.html">errbot.bundled.threadpool module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="errbot.bundled.html#module-errbot.bundled">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="errbot.core_plugins.html">errbot.core_plugins package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="errbot.core_plugins.html#subpackages">Subpackages</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="errbot.core_plugins.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.acls.html">errbot.core_plugins.acls module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.backup.html">errbot.core_plugins.backup module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.chatRoom.html">errbot.core_plugins.chatRoom module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.health.html">errbot.core_plugins.health module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.help.html">errbot.core_plugins.help module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.plugins.html">errbot.core_plugins.plugins module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.utils.html">errbot.core_plugins.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.vcheck.html">errbot.core_plugins.vcheck module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.webserver.html">errbot.core_plugins.webserver module</a></li>
<li class="toctree-l3"><a class="reference internal" href="errbot.core_plugins.wsview.html">errbot.core_plugins.wsview module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="errbot.core_plugins.html#module-errbot.core_plugins">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="errbot.rendering.html">errbot.rendering package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="errbot.rendering.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="errbot.rendering.ansi.html">errbot.rendering.ansi module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="errbot.rendering.html#module-errbot.rendering">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="errbot.templates.html">errbot.templates package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="errbot.templates.html#module-errbot.templates">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="errbot.backend_manager.html">errbot.backend_manager module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.botplugin.html">errbot.botplugin module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.config-template.html">errbot.config-template module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.config-travisci.html">errbot.config-travisci module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.err.html">errbot.err module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.errBot.html">errbot.errBot module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.main.html">errbot.main module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.plugin_manager.html">errbot.plugin_manager module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.py2conv.html">errbot.py2conv module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.repos.html">errbot.repos module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.storage.html">errbot.storage module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.streaming.html">errbot.streaming module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.templating.html">errbot.templating module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.utils.html">errbot.utils module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errbot.version.html">errbot.version module</a></li>
</ul>
</div>
</div>
<div class="section" id="module-errbot">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-errbot" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="errbot.BotPlugin">
<em class="property">class </em><code class="descclassname">errbot.</code><code class="descname">BotPlugin</code><span class="sig-paren">(</span><em>bot</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="errbot.botplugin.html#errbot.botplugin.BotPluginBase" title="errbot.botplugin.BotPluginBase"><code class="xref py py-class docutils literal"><span class="pre">errbot.botplugin.BotPluginBase</span></code></a></p>
<dl class="method">
<dt id="errbot.BotPlugin.activate">
<code class="descname">activate</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.activate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered on plugin activation.</p>
<p>Override this method if you want to do something at initialization phase
(don't forget to <cite>super().activate()</cite>).</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.build_identifier">
<code class="descname">build_identifier</code><span class="sig-paren">(</span><em>txtrep: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.build_identifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.build_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a textual representation of a user or room identifier to the correct
Identifier object you can set in Message.to and Message.frm.
:type txtrep: <code class="docutils literal"><span class="pre">str</span></code>
:param txtrep: the textual representation of the identifier (it is backend dependent).</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.callback_botmessage">
<code class="descname">callback_botmessage</code><span class="sig-paren">(</span><em>message: errbot.backends.base.Message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.callback_botmessage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.callback_botmessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered on every message coming from the bot itself.</p>
<p>Override this method to get notified on all messages coming from
the bot itself (including those from other plugins).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.Message" title="errbot.backends.base.Message"><code class="xref py py-class docutils literal"><span class="pre">Message</span></code></a>) -- An instance of <a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.Message" title="errbot.backends.base.Message"><code class="xref py py-class docutils literal"><span class="pre">Message</span></code></a>
representing the message that was received.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.callback_connect">
<code class="descname">callback_connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.callback_connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.callback_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered when the bot has successfully connected to the chat network.</p>
<p>Override this method to get notified when the bot is connected.</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.callback_message">
<code class="descname">callback_message</code><span class="sig-paren">(</span><em>message: errbot.backends.base.Message</em><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.callback_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.callback_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered on every message not coming from the bot itself.</p>
<p>Override this method to get notified on <em>ANY</em> message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> (<a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.Message" title="errbot.backends.base.Message"><code class="xref py py-class docutils literal"><span class="pre">Message</span></code></a>) -- representing the message that was received.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.callback_presence">
<code class="descname">callback_presence</code><span class="sig-paren">(</span><em>presence: errbot.backends.base.Presence</em><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.callback_presence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.callback_presence" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered on every presence change.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>presence</strong> (<a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.Presence" title="errbot.backends.base.Presence"><code class="xref py py-class docutils literal"><span class="pre">Presence</span></code></a>) -- An instance of <a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.Presence" title="errbot.backends.base.Presence"><code class="xref py py-class docutils literal"><span class="pre">Presence</span></code></a>
representing the new presence state that was received.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.callback_room_joined">
<code class="descname">callback_room_joined</code><span class="sig-paren">(</span><em>room: errbot.backends.base.MUCRoom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.callback_room_joined"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.callback_room_joined" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered when the bot has joined a MUC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>room</strong> (<a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.MUCRoom" title="errbot.backends.base.MUCRoom"><code class="xref py py-class docutils literal"><span class="pre">MUCRoom</span></code></a>) -- An instance of <a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.MUCRoom" title="errbot.backends.base.MUCRoom"><code class="xref py py-class docutils literal"><span class="pre">MUCRoom</span></code></a>
representing the room that was joined.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.callback_room_left">
<code class="descname">callback_room_left</code><span class="sig-paren">(</span><em>room: errbot.backends.base.MUCRoom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.callback_room_left"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.callback_room_left" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered when the bot has left a MUC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>room</strong> (<a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.MUCRoom" title="errbot.backends.base.MUCRoom"><code class="xref py py-class docutils literal"><span class="pre">MUCRoom</span></code></a>) -- An instance of <a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.MUCRoom" title="errbot.backends.base.MUCRoom"><code class="xref py py-class docutils literal"><span class="pre">MUCRoom</span></code></a>
representing the room that was left.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.callback_room_topic">
<code class="descname">callback_room_topic</code><span class="sig-paren">(</span><em>room: errbot.backends.base.MUCRoom</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.callback_room_topic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.callback_room_topic" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered when the topic in a MUC changes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>room</strong> (<a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.MUCRoom" title="errbot.backends.base.MUCRoom"><code class="xref py py-class docutils literal"><span class="pre">MUCRoom</span></code></a>) -- An instance of <a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.MUCRoom" title="errbot.backends.base.MUCRoom"><code class="xref py py-class docutils literal"><span class="pre">MUCRoom</span></code></a>
representing the room for which the topic changed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.callback_stream">
<code class="descname">callback_stream</code><span class="sig-paren">(</span><em>stream: errbot.backends.base.Stream</em><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.callback_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.callback_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered asynchronously (in a different thread context) on every incoming stream
request or file transfert requests.
You can block this call until you are done with the stream.
To signal that you accept / reject the file, simply call stream.accept()
or stream.reject() and return.
:type stream: <a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.Stream" title="errbot.backends.base.Stream"><code class="xref py py-class docutils literal"><span class="pre">Stream</span></code></a>
:param stream:</p>
<blockquote>
<div>the incoming stream request.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.change_presence">
<code class="descname">change_presence</code><span class="sig-paren">(</span><em>status: str='online'</em>, <em>message: str=''</em><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.change_presence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.change_presence" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Changes the presence/status of the bot.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>status</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- One of the constant defined in base.py : ONLINE, OFFLINE, DND,...</li>
<li><strong>message</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- Additional message</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.check_configuration">
<code class="descname">check_configuration</code><span class="sig-paren">(</span><em>configuration: typing.Mapping</em><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.check_configuration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.check_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, this method will do only a BASIC check. You need to override
it if you want to do more complex checks. It will be called before the
configure callback. Note if the config_template is None, it will never
be called.</p>
<p>It means recusively:
1. in case of a dictionary, it will check if all the entries and from</p>
<blockquote>
<div>the same type are there and not more.</div></blockquote>
<ol class="arabic simple" start="2">
<li>in case of an array or tuple, it will assume array members of the
same type of first element of the template (no mix typed is supported)</li>
</ol>
<p>In case of validation error it should raise a errbot.utils.ValidationException
:type configuration: <code class="xref py py-class docutils literal"><span class="pre">Mapping</span></code>
:param configuration: the configuration to be checked.</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.configure">
<code class="descname">configure</code><span class="sig-paren">(</span><em>configuration: typing.Mapping</em><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, it will just store the current configuration in the self.config
field of your plugin. If this plugin has no configuration yet, the framework
will call this function anyway with None.</p>
<p>This method will be called before activation so don't expect to be activated
at that point.
:type configuration: <code class="xref py py-class docutils literal"><span class="pre">Mapping</span></code>
:param configuration: injected configuration for the plugin.</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.deactivate">
<code class="descname">deactivate</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.deactivate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.deactivate" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggered on plugin deactivation.</p>
<p>Override this method if you want to do something at tear-down phase
(don't forget to <cite>super().deactivate()</cite>).</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.get_configuration_template">
<code class="descname">get_configuration_template</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; typing.Mapping<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.get_configuration_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.get_configuration_template" title="Permalink to this definition">¶</a></dt>
<dd><p>If your plugin needs a configuration, override this method and return
a configuration template.</p>
<p>For example a dictionary like:
return {'LOGIN' : <a class="reference external" href="mailto:'example&#37;&#52;&#48;example&#46;com">'example<span>&#64;</span>example<span>&#46;</span>com</a>', 'PASSWORD' : 'password'}</p>
<p>Note: if this method returns None, the plugin won't be configured</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.get_installed_plugin_repos">
<code class="descname">get_installed_plugin_repos</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; typing.Mapping<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.get_installed_plugin_repos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.get_installed_plugin_repos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current installed plugin repos in a dictionary of name / url</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.join_room">
<code class="descname">join_room</code><span class="sig-paren">(</span><em>room: str</em>, <em>username: str=None</em>, <em>password: str=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.join_room"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.join_room" title="Permalink to this definition">¶</a></dt>
<dd><p>Join a room (MUC).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>room</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The JID/identifier of the room to join.</li>
<li><strong>username</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- An optional username to use.</li>
<li><strong>password</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- An optional password to use (for password-protected rooms).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="errbot.BotPlugin.max_err_version">
<code class="descname">max_err_version</code><a class="headerlink" href="#errbot.BotPlugin.max_err_version" title="Permalink to this definition">¶</a></dt>
<dd><p>If your plugin has a maximal version of err it needs to be on in order to run,
please override accordingly this method, returning a string with the dotted
maximal version. It MUST be in a 3 dotted numbers format or None</p>
<p>For example: &quot;1.2.2&quot;</p>
</dd></dl>

<dl class="attribute">
<dt id="errbot.BotPlugin.min_err_version">
<code class="descname">min_err_version</code><a class="headerlink" href="#errbot.BotPlugin.min_err_version" title="Permalink to this definition">¶</a></dt>
<dd><p>If your plugin has a minimum version of err it needs to be on in order to run,
please override accordingly this method, returning a string with the dotted
minimum version. It MUST be in a 3 dotted numbers format or None</p>
<p>For example: &quot;1.2.2&quot;</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.query_room">
<code class="descname">query_room</code><span class="sig-paren">(</span><em>room: str</em><span class="sig-paren">)</span> &rarr; errbot.backends.base.MUCRoom<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.query_room"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.query_room" title="Permalink to this definition">¶</a></dt>
<dd><p>Query a room for information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.MUCRoom" title="errbot.backends.base.MUCRoom"><code class="xref py py-class docutils literal"><span class="pre">MUCRoom</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>room</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The JID/identifier of the room to query for.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An instance of <a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.MUCRoom" title="errbot.backends.base.MUCRoom"><code class="xref py py-class docutils literal"><span class="pre">MUCRoom</span></code></a>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.RoomDoesNotExistError" title="errbot.backends.base.RoomDoesNotExistError"><code class="xref py py-class docutils literal"><span class="pre">RoomDoesNotExistError</span></code></a> if the room doesn't exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.rooms">
<code class="descname">rooms</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; typing.Sequence<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.rooms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.rooms" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of rooms the bot is currently in.</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>user: object</em>, <em>text: str</em>, <em>in_reply_to: errbot.backends.base.Message=None</em>, <em>message_type: str='chat'</em>, <em>groupchat_nick_reply: bool=False</em><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.send" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Sends asynchronously a message to a room or a user.</dt>
<dd>if it is a room message_type needs to by 'groupchat' and user the room.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.send_stream_request">
<code class="descname">send_stream_request</code><span class="sig-paren">(</span><em>user: errbot.backends.base.Identifier</em>, <em>fsource: io.IOBase</em>, <em>name: str=None</em>, <em>size: int=None</em>, <em>stream_type: str=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.send_stream_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.send_stream_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends asynchronously a stream/file to a user.
:type stream_type: <code class="docutils literal"><span class="pre">str</span></code>
:type size: <code class="docutils literal"><span class="pre">int</span></code>
:type name: <code class="docutils literal"><span class="pre">str</span></code>
:type fsource: <code class="xref py py-class docutils literal"><span class="pre">IOBase</span></code>
:type user: <a class="reference internal" href="errbot.backends.base.html#errbot.backends.base.Identifier" title="errbot.backends.base.Identifier"><code class="xref py py-class docutils literal"><span class="pre">Identifier</span></code></a>
:param user: is the identifier of the person you want to send it to.
:param fsource: is a file object you want to send.
:param name: is an optional filename for it.
:param size: is optional and is the espected size for it.
:param stream_type: is optional for the mime_type of the content.</p>
<p>It will return a Stream object on which you can monitor the progress of it.</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.send_templated">
<code class="descname">send_templated</code><span class="sig-paren">(</span><em>user: errbot.backends.base.Identifier</em>, <em>template_name: str</em>, <em>template_parameters: typing.Mapping</em>, <em>in_reply_to: errbot.backends.base.Message=None</em>, <em>message_type: str='chat'</em>, <em>groupchat_nick_reply: bool=False</em><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.send_templated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.send_templated" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends asynchronously a message to a room or a user.
Same as send but passing a template name and parameters instead of directly the markdown text.</p>
<blockquote>
<div>if it is a room message_type needs to by 'groupchat' and user the room.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.start_poller">
<code class="descname">start_poller</code><span class="sig-paren">(</span><em>interval: float</em>, <em>method: typing.Callable</em>, <em>args: typing.Tuple=None</em>, <em>kwargs: typing.Mapping=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.start_poller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.start_poller" title="Permalink to this definition">¶</a></dt>
<dd><p>Start to poll a method at specific interval in seconds.</p>
<p>Note: it will call the method with the initial interval delay for the first time
Also, you can program
for example : self.program_poller(self, 30, fetch_stuff)
where you have def fetch_stuff(self) in your plugin
:type kwargs: <code class="xref py py-class docutils literal"><span class="pre">Mapping</span></code>
:type args: <code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>
:type method: <code class="xref py py-class docutils literal"><span class="pre">Callable</span></code>
:type interval: <code class="docutils literal"><span class="pre">float</span></code>
:param kwargs: kwargs for the method to callback.
:param args: args for the method to callback.
:param method: method to callback.
:param interval: interval in seconds.</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.stop_poller">
<code class="descname">stop_poller</code><span class="sig-paren">(</span><em>method: typing.Callable</em>, <em>args: typing.Tuple=None</em>, <em>kwargs: typing.Mapping=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.stop_poller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.stop_poller" title="Permalink to this definition">¶</a></dt>
<dd><p>stop poller(s).</p>
<p>If the method equals None -&gt; it stops all the pollers
you need to regive the same parameters as the original start_poller to match a specific poller to stop
:type kwargs: <code class="xref py py-class docutils literal"><span class="pre">Mapping</span></code>
:type args: <code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>
:type method: <code class="xref py py-class docutils literal"><span class="pre">Callable</span></code>
:param kwargs: The initial kwargs you gave to start_poller.
:param args: The initial args you gave to start_poller.
:param method: The initial method you passed to start_poller.</p>
</dd></dl>

<dl class="method">
<dt id="errbot.BotPlugin.warn_admins">
<code class="descname">warn_admins</code><span class="sig-paren">(</span><em>warning: str</em><span class="sig-paren">)</span> &rarr; None<a class="reference internal" href="_modules/errbot/botplugin.html#BotPlugin.warn_admins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.BotPlugin.warn_admins" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a warning to the administrators of the bot
:type warning: <code class="docutils literal"><span class="pre">str</span></code>
:param warning: mardown formatted text of the warning.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="errbot.webhook">
<code class="descclassname">errbot.</code><code class="descname">webhook</code><span class="sig-paren">(</span><em>*args</em>, <em>methods: typing.Tuple=('POST'</em>, <em>'GET')</em>, <em>form_param: str=None</em>, <em>raw: bool=False</em><span class="sig-paren">)</span> &rarr; typing.Callable<a class="reference internal" href="_modules/errbot.html#webhook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.webhook" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for webhooks</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">Callable</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uri_rule</strong> -- A regular expression against which the called URL should
match in order for the webhook to trigger. If left undefined then the URL
<cite>/&lt;method_name&gt;/</cite> will be used instead.</li>
<li><strong>methods</strong> (<code class="xref py py-class docutils literal"><span class="pre">Tuple</span></code>) -- A tuple of allowed HTTP methods. By default, only GET and POST
are allowed.</li>
<li><strong>form_param</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The key who's contents will be passed to your method's <cite>payload</cite>
parameter. This is used for example when using the <cite>application/x-www-form-urlencoded</cite>
mimetype.</li>
<li><strong>raw</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Boolean to overrides the request decoding (including form_param) and
passes the raw http request to your method's <cite>payload</cite>.
The passed type in payload will provide the BaseRequest interface as defined here:
<a class="reference external" href="http://bottlepy.org/docs/dev/api.html#bottle.BaseRequest">http://bottlepy.org/docs/dev/api.html#bottle.BaseRequest</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This decorator should be applied to methods of <a class="reference internal" href="errbot.botplugin.html#errbot.botplugin.BotPlugin" title="errbot.botplugin.BotPlugin"><code class="xref py py-class docutils literal"><span class="pre">BotPlugin</span></code></a>
classes to turn them into webhooks which can be reached on Err's built-in webserver.
The bundled <em>Webserver</em> plugin needs to be configured before these URL's become reachable.</p>
<p>Methods with this decorator are expected to have a signature like the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@webhook</span>
<span class="k">def</span> <span class="nf">a_webhook</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="errbot.webroute">
<code class="descclassname">errbot.</code><code class="descname">webroute</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#errbot.webroute" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for functions to route in obj and route them.</p>
</dd></dl>

<dl class="function">
<dt id="errbot.botcmd">
<code class="descclassname">errbot.</code><code class="descname">botcmd</code><span class="sig-paren">(</span><em>*args</em>, <em>hidden: bool=False</em>, <em>name: str=None</em>, <em>split_args_with: str=''</em>, <em>admin_only: bool=False</em>, <em>historize: bool=True</em>, <em>template: str=None</em><span class="sig-paren">)</span> &rarr; typing.Callable<a class="reference internal" href="_modules/errbot.html#botcmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.botcmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for bot command functions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">Callable</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hidden</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Prevents the command from being shown by the built-in help command when <cite>True</cite>.</li>
<li><strong>name</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The name to give to the command. Defaults to name of the function itself.</li>
<li><strong>split_args_with</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- Automatically split arguments on the given separator.
Behaviour of this argument is identical to <code class="xref py py-func docutils literal"><span class="pre">str.split()</span></code></li>
<li><strong>admin_only</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Only allow the command to be executed by admins when <cite>True</cite>.</li>
<li><strong>historize</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Store the command in the history list (<cite>!history</cite>). This is enabled
by default.</li>
<li><strong>template</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The markdown template to use.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This decorator should be applied to methods of <a class="reference internal" href="errbot.botplugin.html#errbot.botplugin.BotPlugin" title="errbot.botplugin.BotPlugin"><code class="xref py py-class docutils literal"><span class="pre">BotPlugin</span></code></a>
classes to turn them into commands that can be given to the bot. These methods are
expected to have a signature like the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@botcmd</span>
<span class="k">def</span> <span class="nf">some_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>The given <cite>msg</cite> will be the full message object that was received, which includes data
like sender, receiver, the plain-text and html body (if applicable), etc. <cite>args</cite> will
be a string or list (depending on your value of <cite>split_args_with</cite>) of parameters that
were given to the command by the user.</p>
</dd></dl>

<dl class="function">
<dt id="errbot.re_botcmd">
<code class="descclassname">errbot.</code><code class="descname">re_botcmd</code><span class="sig-paren">(</span><em>*args</em>, <em>hidden: bool=False</em>, <em>name: str=None</em>, <em>admin_only: bool=False</em>, <em>historize: bool=True</em>, <em>template: str=None</em>, <em>pattern: str=None</em>, <em>flags: int=0</em>, <em>matchall: bool=False</em>, <em>prefixed: bool=True</em><span class="sig-paren">)</span> &rarr; typing.Callable<a class="reference internal" href="_modules/errbot.html#re_botcmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.re_botcmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for regex-based bot command functions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">Callable</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pattern</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The regular expression a message should match against in order to
trigger the command.</li>
<li><strong>flags</strong> (<code class="docutils literal"><span class="pre">int</span></code>) -- The <cite>flags</cite> parameter which should be passed to <code class="xref py py-func docutils literal"><span class="pre">re.compile()</span></code>. This
allows the expression's behaviour to be modified, such as making it case-insensitive
for example.</li>
<li><strong>matchall</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- By default, only the first match of the regular expression is returned
(as a <cite>re.MatchObject</cite>). When <em>matchall</em> is <cite>True</cite>, all non-overlapping matches are
returned (as a list of <cite>re.MatchObject</cite> items).</li>
<li><strong>prefixed</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Requires user input to start with a bot prefix in order for the pattern
to be applied when <cite>True</cite> (the default).</li>
<li><strong>hidden</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Prevents the command from being shown by the built-in help command when <cite>True</cite>.</li>
<li><strong>name</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The name to give to the command. Defaults to name of the function itself.</li>
<li><strong>admin_only</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Only allow the command to be executed by admins when <cite>True</cite>.</li>
<li><strong>historize</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Store the command in the history list (<cite>!history</cite>). This is enabled
by default.</li>
<li><strong>template</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The template to use when using XHTML-IM output</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This decorator should be applied to methods of <a class="reference internal" href="errbot.botplugin.html#errbot.botplugin.BotPlugin" title="errbot.botplugin.BotPlugin"><code class="xref py py-class docutils literal"><span class="pre">BotPlugin</span></code></a>
classes to turn them into commands that can be given to the bot. These methods are
expected to have a signature like the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@re_botcmd</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="s1">r&#39;^some command$&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">some_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">match</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>The given <cite>msg</cite> will be the full message object that was received, which includes data
like sender, receiver, the plain-text and html body (if applicable), etc. <cite>match</cite> will
be a <code class="xref py py-class docutils literal"><span class="pre">re.MatchObject</span></code> containing the result of applying the regular expression on the
user's input.</p>
</dd></dl>

<dl class="function">
<dt id="errbot.arg_botcmd">
<code class="descclassname">errbot.</code><code class="descname">arg_botcmd</code><span class="sig-paren">(</span><em>*args</em>, <em>hidden: bool=False</em>, <em>name: str=None</em>, <em>admin_only: bool=False</em>, <em>historize: bool=True</em>, <em>template: str=None</em>, <em>unpack_args: bool=True</em>, <em>**kwargs</em><span class="sig-paren">)</span> &rarr; typing.Callable<a class="reference internal" href="_modules/errbot.html#arg_botcmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#errbot.arg_botcmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for argparse-based bot command functions</p>
<p><a class="reference external" href="https://docs.python.org/3/library/argparse.html">https://docs.python.org/3/library/argparse.html</a></p>
<p>This decorator creates an argparse.ArgumentParser and uses it to parse the commands arguments.</p>
<p>This decorator can be used multiple times to specify multiple arguments.</p>
<p>Any valid argparse.add_argument() parameters can be passed into the decorator.
Each time this decorator is used it adds a new argparse argument to the command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">Callable</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hidden</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Prevents the command from being shown by the built-in help command when <cite>True</cite>.</li>
<li><strong>name</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The name to give to the command. Defaults to name of the function itself.</li>
<li><strong>admin_only</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Only allow the command to be executed by admins when <cite>True</cite>.</li>
<li><strong>historize</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Store the command in the history list (<cite>!history</cite>). This is enabled
by default.</li>
<li><strong>template</strong> (<code class="docutils literal"><span class="pre">str</span></code>) -- The template to use when using XHTML-IM output</li>
<li><strong>unpack_args</strong> (<code class="docutils literal"><span class="pre">bool</span></code>) -- Should the argparser arguments be &quot;unpacked&quot; and passed on the the bot
command individually? If this is True (the default) you must define all arguments in the
function separately. If this is False you must define a single argument <cite>args</cite> (or
whichever name you prefer) to receive the result of <cite>ArgumentParser.parse_args()</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This decorator should be applied to methods of <a class="reference internal" href="errbot.botplugin.html#errbot.botplugin.BotPlugin" title="errbot.botplugin.BotPlugin"><code class="xref py py-class docutils literal"><span class="pre">BotPlugin</span></code></a>
classes to turn them into commands that can be given to the bot. The methods will be called
with the original msg and the argparse parsed arguments. These methods are
expected to have a signature like the following (assuming <cite>unpack_args=True</cite>):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@arg_botcmd</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@arg_botcmd</span><span class="p">(</span><span class="s1">&#39;--repeat-count&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;repeat&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">repeat_the_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">value</span> <span class="o">*</span> <span class="n">repeat</span>
</pre></div>
</div>
<p>The given <cite>msg</cite> will be the full message object that was received, which includes data
like sender, receiver, the plain-text and html body (if applicable), etc. <cite>args</cite> will
be a string or list (depending on your value of <cite>split_args_with</cite>) of parameters that
were given to the command by the user.</p>
<p>If you wish to use <cite>unpack_args=False</cite>, define the function like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@arg_botcmd</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="nd">@arg_botcmd</span><span class="p">(</span><span class="s1">&#39;--repeat-count&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;repeat&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">unpack_args</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">repeat_the_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">arg</span><span class="o">.</span><span class="n">value</span> <span class="o">*</span> <span class="n">args</span><span class="o">.</span><span class="n">repeat</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <cite>unpack_args=False</cite> only needs to be specified once, on the bottom <cite>&#64;args_botcmd</cite>
statement.</p>
</div>
</dd></dl>

</div>
</div>

  <div id="prev_next_links">
      
          
              Previous: <a href="contributing.html">Contributing</a>
          
          
               | 
              Next: <a href="errbot.backends.html">errbot.backends package</a>
          
      
  </div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a class="logo" href="index.html" title="Back to home page">
        <img class="logo" src="_static/err_speech.png" width="220" height="135" alt="Logo of Err"/>
    </a>
    <div class="ghbuttons">
        <iframe src="http://ghbtns.com/github-btn.html?user=errbotio&repo=errbot&type=watch&count=true"
                allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
        <iframe src="http://ghbtns.com/github-btn.html?user=errbotio&repo=errbot&type=fork&count=true" allowtransparency="true"
                frameborder="0" scrolling="0" width="95" height="20"></iframe>
    </div>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">errbot package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-errbot">Module contents</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
    <li><a href="index.html">Homepage</a></li>
    <li><a href="genindex.html">Index</a></li>
    <li><a href="py-modindex.html">Module index</a></li>
    <li><a href="modules.html">API reference</a></li>
        <li>Previous: <a href="contributing.html" title="previous chapter">Contributing</a></li>
        <li>Next: <a href="errbot.backends.html" title="next chapter">errbot.backends package</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/errbot.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <script>
        $(document).ready(function () {
            $('.fancybox').fancybox({
                padding: 0,
                openEffect: 'elastic'
            });
        });
    </script>
    <div class="relbar2">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="errbot.backends.html" title="errbot.backends package"
             >next</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Err 3.2.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Guillaume Binet, Tali Davidovich Petrover and Nick Groenen.
          Last updated on Feb 28, 2016.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
    
  </body>
</html>